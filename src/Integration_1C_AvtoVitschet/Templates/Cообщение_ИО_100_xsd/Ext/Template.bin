<?xml version="1.0" encoding="utf-8"?>
<xs:schema xmlns:tns="http://openapi-rest.gnivc.ru/registration" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:sch="http://purl.oclc.org/dsdl/schematron" targetNamespace="http://openapi-rest.gnivc.ru/registration" elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.9">
	<xs:element name="Файл">
		<xs:annotation>
			<xs:documentation>Документ обмена</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element name="ИдДок" minOccurs="1" maxOccurs="1">
					<xs:annotation>
						<xs:documentation>Идентификатор документа</xs:documentation>
					</xs:annotation>
					<xs:simpleType>
						<xs:restriction base="xs:string">
							<xs:pattern value="SOOBIO_([0-9]{10})_([1-2]{1}[0-9]{3})(0[1-9]{1}|1[0-2]{1})(0[1-9]|[1-2]{1}[0-9]{1}|3[0-1]{1})_[0-9a-fA-F]{32}"/>
						</xs:restriction>
					</xs:simpleType>
				</xs:element>
				<xs:element name="ВерсФорм" minOccurs="1" maxOccurs="1">
					<xs:annotation>
						<xs:documentation>Версия формата</xs:documentation>
					</xs:annotation>
					<xs:simpleType>
						<xs:restriction base="xs:string">
							<xs:minLength value="1"/>
							<xs:maxLength value="5"/>
							<xs:enumeration value="1.00"/>
						</xs:restriction>
					</xs:simpleType>
				</xs:element>				
				<xs:element name="Документ" minOccurs="1" maxOccurs="1">
					<xs:annotation>
						<xs:documentation>Состав и структура документа</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="КодДок" minOccurs="1" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Код документа</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:enumeration value="007"/>							
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="ДатаЗП" type="ДатаТип" minOccurs="1" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Дата формирования сообщения. Дата в формате ДД.ММ.ГГГГ</xs:documentation>								
								</xs:annotation>
							</xs:element>
							<xs:element name="ВремяЗП" type="ВремяТип" minOccurs="1" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Время формирования сообщения. Время в формате ЧЧ:ММ:СС</xs:documentation>								
								</xs:annotation>
							</xs:element>					
							<xs:element name="НомерЗП" minOccurs="1" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Номер сообщения
									Принимает значение:
									1 – первичный документ,
									2, 3 и так далее – в случае представления уточненного документа в отношении конкретного участника информационного обмена
									</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:pattern value="[1-9]{1}|[1-9]{1}[0-9]{1}|[1-9]{1}[0-9]{2}|[1-9]{1}[0-9]{3}|[1-9]{1}[0-9]{4}|[1-9]{1}[0-9]{5}|[1-9]{1}[0-9]{6}|[1-9]{1}[0-9]{7}|[1-9]{1}[0-9]{8}|[1-9]{1}[0-9]{9}"/>															
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="ОткрытЧКлюч" type="xs:base64Binary" minOccurs="0" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Открытая часть сертификата</xs:documentation>
								</xs:annotation>
							</xs:element>							
							<xs:element name="СвВыч" minOccurs="1" maxOccurs="3">
								<xs:annotation>
									<xs:documentation>Сведения о применяемом типе вычета
									Принимает значение в соответствии с «Кодами вида вычета»:
									01 – инвестиционный налоговый вычет по пп. 3 п.1 ст. 219.1 НК РФ 
									02 – инвестиционный налоговый вычет по пп. 2 п.1 ст. 219.1 НК РФ
									03 – имущественные налоговые вычеты по пп. 3 и 4 п.1 ст. 220 НК РФ
									</xs:documentation>
								</xs:annotation>
								<xs:simpleType>
									<xs:restriction base="xs:string">
										<xs:enumeration value="01"/>	
										<xs:enumeration value="02"/>	
										<xs:enumeration value="03"/>											
									</xs:restriction>
								</xs:simpleType>
							</xs:element>
							<xs:element name="СвУчИО" minOccurs="1" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Сведения о профессиональном участнике рынка ценных бумаг</xs:documentation>			
								</xs:annotation>
								<xs:complexType>
									<xs:sequence>
										<xs:element name="ЛоготипУчИО" type="xs:base64Binary" minOccurs="0" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>Логотип участника информационного обмена</xs:documentation>
											</xs:annotation>
										</xs:element>
										<xs:element name="НаимУчИО" minOccurs="1" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>Полное наименование участника информационного обмена</xs:documentation>
											</xs:annotation>
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="1000"/>
												</xs:restriction>
											</xs:simpleType>										
										</xs:element>	
										<xs:element name="ИННУчИО" type="ИННЮЛТип" minOccurs="1" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>ИНН участника информационного обмена</xs:documentation>
											</xs:annotation>
										</xs:element>
										<xs:element name="КППУчИО" type="КППТип" minOccurs="1" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>КПП участника информационного обмена</xs:documentation>
											</xs:annotation>
										</xs:element>
									</xs:sequence>
								</xs:complexType>
							</xs:element>								
							<xs:element name="СвКонтакт" minOccurs="1" maxOccurs="1">
								<xs:annotation>
									<xs:documentation>Контактные сведения</xs:documentation>			
								</xs:annotation>
								<xs:complexType>
									<xs:sequence>									
										<xs:element name="ФИОКонтакт" type="ФИОТип" minOccurs="1" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>Фамилия, имя, отчество контактного лица</xs:documentation>
											</xs:annotation>
										</xs:element>
										<xs:element name="АдресЭл" minOccurs="1" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>Рабочий электронный адрес (e-mail)</xs:documentation>
											</xs:annotation>
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="45"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>	
										<xs:element name="Телефон" minOccurs="1" maxOccurs="1">
											<xs:annotation>
												<xs:documentation>Контактный телефон</xs:documentation>
											</xs:annotation>
											<xs:simpleType>
												<xs:restriction base="xs:string">
													<xs:minLength value="1"/>
													<xs:maxLength value="20"/>
												</xs:restriction>
											</xs:simpleType>
										</xs:element>
									</xs:sequence>
								</xs:complexType>										
							</xs:element>	
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
		</xs:complexType>
	</xs:element>
	
	<xs:simpleType name="ДатаТип">
		<xs:annotation>
			<xs:documentation>Дата в формате ДД.ММ.ГГГГ (01.01.1800 - 31.12.2099)</xs:documentation>
		</xs:annotation>
		<xs:restriction base="xs:string">
			<xs:length value="10"/>
			<xs:pattern value="(((0[1-9]{1}|[1-2]{1}[0-9]{1})\.(0[1-9]{1}|1[0-2]{1}))|((30)\.(01|0[3-9]{1}|1[0-2]{1}))|((31)\.(01|03|05|07|08|10|12)))\.(18[0-9]{2}|19[0-9]{2}|20[0-9]{2})"/>
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="ВремяТип">
		<xs:annotation>
			<xs:documentation>Время в формате ЧЧ:ММ:СС</xs:documentation>
		</xs:annotation>
		<xs:restriction base="xs:string">
			<xs:length value="8"/>
			<xs:pattern value="([0-1]{1}[0-9]{1}|2[0-3]{1}):([0-5]{1}[0-9]{1}):([0-5]{1}[0-9]{1})"/>
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="ИННЮЛТип">
		<xs:annotation>
			<xs:documentation>Идентификационный номер налогоплательщика - организации</xs:documentation>
		</xs:annotation>
		<xs:restriction base="xs:string">
			<xs:length value="10"/>
			<xs:pattern value="([0-9]{1}[1-9]{1}|[1-9]{1}[0-9]{1})[0-9]{8}"/>
		</xs:restriction>
	</xs:simpleType>
	<xs:simpleType name="КППТип">
		<xs:annotation>
			<xs:documentation>Код причины постановки на учет (КПП) </xs:documentation>
		</xs:annotation>
		<xs:restriction base="xs:string">
			<xs:length value="9"/>
			<xs:pattern value="([0-9]{1}[1-9]{1}|[1-9]{1}[0-9]{1})([0-9]{2})([0-9A-F]{2})([0-9]{3})"/>
		</xs:restriction>
	</xs:simpleType>
	<xs:complexType name="ФИОТип">
		<xs:annotation>
			<xs:documentation>Фамилия, имя, отчество</xs:documentation>
		</xs:annotation>
		<xs:attribute name="Фамилия" use="required">
			<xs:annotation>
				<xs:documentation>Фамилия</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
					<xs:maxLength value="60"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Имя" use="required">
			<xs:annotation>
				<xs:documentation>Имя</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
					<xs:maxLength value="60"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Отчество" use="optional">
			<xs:annotation>
				<xs:documentation>Отчество</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
					<xs:maxLength value="60"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>												
</xs:schema>	